"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[8695],{"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/shared/ui/Card/Card.module.scss":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".Card--GNYon{padding:15px;border-radius:12px;background:var(--card-bg)}.max--t7i88{width:100%}","",{version:3,sources:["webpack://./src/shared/ui/Card/Card.module.scss"],names:[],mappings:"AAAA,aACE,YAAA,CACA,kBAAA,CACA,yBAAA,CAGF,YACE,UAAA",sourcesContent:[".Card {\n  padding: 15px;\n  border-radius: 12px;\n  background: var(--card-bg);\n}\n\n.max {\n  width: 100%;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={Card:"Card--GNYon",max:"max--t7i88"},__webpack_exports__.A=___CSS_LOADER_EXPORT___},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/shared/ui/StarRating/StarRating.module.scss":function(module,__webpack_exports__,__webpack_require__){var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,".starIcon--Z1C6Y{cursor:pointer;fill:none}.hovered--Qpbxq{fill:#daa520}.selected--ouStZ{cursor:auto}","",{version:3,sources:["webpack://./src/shared/ui/StarRating/StarRating.module.scss"],names:[],mappings:"AAAA,iBACE,cAAA,CACA,SAAA,CAGF,gBACE,YAAA,CAGF,iBACE,WAAA",sourcesContent:[".starIcon {\n  cursor: pointer;\n  fill: none;\n}\n\n.hovered {\n  fill: goldenrod;\n}\n\n.selected {\n  cursor: auto;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={starIcon:"starIcon--Z1C6Y",hovered:"hovered--Qpbxq",selected:"selected--ouStZ"},__webpack_exports__.A=___CSS_LOADER_EXPORT___},"./src/entities/Rating/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{D:function(){return _ui_AverageRating_AverageRating__WEBPACK_IMPORTED_MODULE_0__.D},K:function(){return _ui_RatingCard_RatingCard__WEBPACK_IMPORTED_MODULE_1__.K}});var _ui_AverageRating_AverageRating__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/entities/Rating/ui/AverageRating/AverageRating.tsx"),_ui_RatingCard_RatingCard__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/entities/Rating/ui/RatingCard/RatingCard.tsx")},"./src/entities/Rating/ui/AverageRating/AverageRating.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{D:function(){return AverageRating}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_shared_assets_icons_star_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/shared/assets/icons/star.svg"),_shared_ui_Icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/shared/ui/Icon/index.ts"),_shared_ui_Skeleton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/ui/Skeleton/index.ts"),_shared_ui_Stack__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/shared/ui/Stack/index.ts"),_shared_ui_Text__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/shared/ui/Text/index.ts");const AverageRating=(0,__webpack_require__("./node_modules/react/index.js").memo)((props=>{const{className:className,isLoading:isLoading,data:data,digits:digits=2}=props,summaryRating=data?.reduce(((accum,item)=>accum+item.rate),0)||0,ratingsCount=data?.length||0,averageRating=parseFloat((summaryRating/ratingsCount||0).toFixed(digits));return isLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_shared_ui_Skeleton__WEBPACK_IMPORTED_MODULE_3__.E,{width:150,height:30}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_shared_ui_Stack__WEBPACK_IMPORTED_MODULE_4__.z,{gap:"8",className:className,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_shared_ui_Icon__WEBPACK_IMPORTED_MODULE_2__.I,{inverted:!0,width:30,height:30,style:{fill:"goldenrod"},Svg:_shared_assets_icons_star_svg__WEBPACK_IMPORTED_MODULE_1__.A}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_shared_ui_Text__WEBPACK_IMPORTED_MODULE_5__.EY,{size:_shared_ui_Text__WEBPACK_IMPORTED_MODULE_5__.$C.L,text:`${averageRating}(${ratingsCount})`})]})}));AverageRating.__docgenInfo={description:"",methods:[],displayName:"AverageRating",props:{className:{required:!1,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},data:{required:!1,tsType:{name:"Array",elements:[{name:"Rating"}],raw:"Rating[]"},description:""},digits:{required:!1,tsType:{name:"number"},description:""}}}},"./src/entities/Rating/ui/RatingCard/RatingCard.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{K:function(){return RatingCard}});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Button=__webpack_require__("./src/shared/ui/Button/index.ts"),Card=__webpack_require__("./src/shared/ui/Card/index.ts"),Drawer=__webpack_require__("./src/shared/ui/Drawer/index.ts"),Input=__webpack_require__("./src/shared/ui/Input/index.ts"),Modal=__webpack_require__("./src/shared/ui/Modal/index.ts"),Stack=__webpack_require__("./src/shared/ui/Stack/index.ts"),StarRating=__webpack_require__("./src/shared/ui/StarRating/StarRating.tsx"),Text=__webpack_require__("./src/shared/ui/Text/index.ts"),react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/react-device-detect/dist/lib.js"),useTranslation=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js");const RatingCard=(0,react.memo)((props=>{const{className:className,title:title,feedbackTitle:feedbackTitle,hasFeedback:hasFeedback,onCancel:onCancel,onAccept:onAccept,rate:rate=0}=props,{t:t}=(0,useTranslation.B)(),[starsCount,setStarsCount]=(0,react.useState)(rate),[isModalOpen,setIsModalOpen]=(0,react.useState)(!1),[feedback,setFeedback]=(0,react.useState)(""),onSelectStars=(0,react.useCallback)((selectedStarsCount=>{setStarsCount(selectedStarsCount),hasFeedback?setIsModalOpen(!0):onAccept?.(selectedStarsCount)}),[hasFeedback,onAccept]),acceptHandle=(0,react.useCallback)((()=>{setIsModalOpen(!1),onAccept?.(starsCount,feedback)}),[onAccept,starsCount,feedback]),cancelHandle=(0,react.useCallback)((()=>{setIsModalOpen(!1),setStarsCount(0),setFeedback(""),onCancel?.(starsCount)}),[onCancel,starsCount]),modalContent=(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Text.EY,{title:feedbackTitle}),(0,jsx_runtime.jsx)(Input.p,{value:feedback,onChange:value=>{setFeedback(value)},placeholder:t("Ваш отзыв")})]});return(0,jsx_runtime.jsxs)(Card.Z,{max:!0,className:className,children:[(0,jsx_runtime.jsxs)(Stack.T,{max:!0,align:"center",gap:"8",children:[(0,jsx_runtime.jsx)(Text.EY,{title:starsCount?t("Спасибо за оценку!"):title}),(0,jsx_runtime.jsx)(StarRating.G,{size:40,onSelect:onSelectStars,selectedStars:starsCount})]}),hasFeedback&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(lib.S7,{children:(0,jsx_runtime.jsx)(Modal.a,{onClose:cancelHandle,isOpen:isModalOpen,children:(0,jsx_runtime.jsxs)(Stack.T,{max:!0,gap:"32",children:[modalContent,(0,jsx_runtime.jsxs)(Stack.z,{max:!0,gap:"16",justify:"end",children:[(0,jsx_runtime.jsx)(Button.$n,{onClick:cancelHandle,theme:Button.Ox.OUTLINE_RED,children:t("Закрыть")}),(0,jsx_runtime.jsx)(Button.$n,{onClick:acceptHandle,theme:Button.Ox.OUTLINE_GREEN,children:t("Отправить")})]})]})})}),(0,jsx_runtime.jsx)(lib.IM,{children:(0,jsx_runtime.jsx)(Drawer._,{isOpen:isModalOpen,onClose:cancelHandle,children:(0,jsx_runtime.jsxs)(Stack.T,{max:!0,gap:"32",children:[modalContent,(0,jsx_runtime.jsx)(Button.$n,{fullWidth:!0,onClick:acceptHandle,theme:Button.Ox.OUTLINE_GREEN,children:t("Отправить")})]})})})]})]})}));RatingCard.__docgenInfo={description:"",methods:[],displayName:"RatingCard",props:{className:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""},feedbackTitle:{required:!1,tsType:{name:"string"},description:""},hasFeedback:{required:!1,tsType:{name:"boolean"},description:""},onCancel:{required:!1,tsType:{name:"signature",type:"function",raw:"(starsCount: number) => void",signature:{arguments:[{type:{name:"number"},name:"starsCount"}],return:{name:"void"}}},description:""},onAccept:{required:!1,tsType:{name:"signature",type:"function",raw:"(starsCount: number, feedback?: string) => void",signature:{arguments:[{type:{name:"number"},name:"starsCount"},{type:{name:"string"},name:"feedback"}],return:{name:"void"}}},description:""},rate:{required:!1,tsType:{name:"number"},description:""}}}},"./src/features/profileRating/api/profileRatingApi.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{ZL:function(){return useRateProfile},ah:function(){return useGetAllProfileRatings},oJ:function(){return useGetProfileRating}});const profileRatingApi=__webpack_require__("./src/shared/api/rtkApi.ts").q.injectEndpoints({endpoints:build=>({getProfileRating:build.query({query:({userId:userId,profileId:profileId})=>({url:"/profile-ratings",params:{userId:userId,profileId:profileId}})}),getAllProfileRatings:build.query({query:profileId=>({url:"/profile-ratings",params:{profileId:profileId}})}),rateArticle:build.mutation({query:arg=>({url:"/profile-ratings",method:"POST",body:arg})})})}),useGetProfileRating=profileRatingApi.useGetProfileRatingQuery,useGetAllProfileRatings=profileRatingApi.useGetAllProfileRatingsQuery,useRateProfile=profileRatingApi.useRateArticleMutation},"./src/shared/assets/icons/star.svg":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _path,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}__webpack_exports__.A=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",width:22,height:22,fill:"none"},props),_path||(_path=react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.075 1.633c.32-.844 1.53-.844 1.852 0l2.07 5.734a.99.99 0 0 0 .926.633h5.087c.94 0 1.35 1.17.61 1.743L17 13a.97.97 0 0 0-.321 1.092L18 19.695c.322.9-.72 1.673-1.508 1.119l-4.917-3.12a1 1 0 0 0-1.15 0l-4.917 3.12c-.787.554-1.83-.22-1.508-1.119l1.322-5.603A.97.97 0 0 0 5 13L1.38 9.743C.64 9.17 1.053 8 1.99 8h5.087a.99.99 0 0 0 .926-.633l2.07-5.734z"})))},"./src/shared/ui/Card/Card.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return Card}});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),classNames=__webpack_require__("./src/shared/lib/classNames/classNames.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),Card_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/shared/ui/Card/Card.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(Card_module.A,options);var Card_Card_module=Card_module.A&&Card_module.A.locals?Card_module.A.locals:void 0;const Card=(0,react.memo)((props=>{const{className:className,children:children,max:max,...otherProps}=props;return(0,jsx_runtime.jsx)("div",{className:(0,classNames.x)(Card_Card_module.Card,{[Card_Card_module.max]:max},[className]),...otherProps,children:children})}));Card.__docgenInfo={description:"",methods:[],displayName:"Card",props:{className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactNode"},description:""},max:{required:!1,tsType:{name:"boolean"},description:""}},composes:["HTMLAttributes"]}},"./src/shared/ui/Card/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _Card__WEBPACK_IMPORTED_MODULE_0__.Z}});var _Card__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/ui/Card/Card.tsx")},"./src/shared/ui/StarRating/StarRating.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{G:function(){return StarRating}});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),star=__webpack_require__("./src/shared/assets/icons/star.svg"),classNames=__webpack_require__("./src/shared/lib/classNames/classNames.ts"),react=__webpack_require__("./node_modules/react/index.js"),Icon=__webpack_require__("./src/shared/ui/Icon/index.ts"),Stack=__webpack_require__("./src/shared/ui/Stack/index.ts"),injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),StarRating_module=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!./node_modules/sass-loader/dist/cjs.js!./src/shared/ui/StarRating/StarRating.module.scss"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(StarRating_module.A,options);var StarRating_StarRating_module=StarRating_module.A&&StarRating_module.A.locals?StarRating_module.A.locals:void 0;const StarRating=(0,react.memo)((props=>{const{className:className,onSelect:onSelect,size:size=30,selectedStars:selectedStars=0}=props,[currentStarsCount,setCurrentStarsCount]=(0,react.useState)(selectedStars),[isHovered,setIsHovered]=(0,react.useState)(!1),[isSelected,setIsSelected]=(0,react.useState)(Boolean(selectedStars));(0,react.useEffect)((()=>{setCurrentStarsCount(selectedStars),setIsSelected(Boolean(selectedStars))}),[selectedStars]);const onClick=(0,react.useCallback)((starNumber=>()=>{isSelected||(setIsSelected(!0),setCurrentStarsCount(starNumber+1),onSelect?.(starNumber+1))}),[isSelected,onSelect]),onHover=(0,react.useCallback)((starNumber=>()=>{isSelected||(setIsHovered(!0),setCurrentStarsCount(starNumber+1))}),[isSelected]),onLeave=(0,react.useCallback)((()=>{isSelected||setCurrentStarsCount(0)}),[isSelected]),mods=starNumber=>({[StarRating_StarRating_module.hovered]:(isHovered||isSelected)&&starNumber<currentStarsCount,[StarRating_StarRating_module.selected]:isSelected});return(0,jsx_runtime.jsx)(Stack.z,{max:!0,gap:"4",className:(0,classNames.x)(StarRating_StarRating_module.StarRating,{},[className]),children:new Array(5).fill(0).map(((_,starNumber)=>(0,jsx_runtime.jsx)(Icon.I,{onClick:onClick(starNumber),onMouseEnter:onHover(starNumber),onMouseLeave:onLeave,className:(0,classNames.x)(StarRating_StarRating_module.starIcon,mods(starNumber)),Svg:star.A,width:size,height:size},starNumber)))})}));StarRating.__docgenInfo={description:"",methods:[],displayName:"StarRating",props:{className:{required:!1,tsType:{name:"string"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(starsCount: number) => void",signature:{arguments:[{type:{name:"number"},name:"starsCount"}],return:{name:"void"}}},description:""},size:{required:!1,tsType:{name:"number"},description:""},selectedStars:{required:!1,tsType:{name:"number"},description:""}}}}}]);