"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[2511],{"./src/pages/ArticlesPage/ui/ArticleInfiniteList/ArticleInfiniteList.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{r:function(){return ArticleInfiniteList}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_entities_Article__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/entities/Article/index.ts"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-redux/es/index.js"),_model_selectors_articlesPageSelectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/pages/ArticlesPage/model/selectors/articlesPageSelectors.ts"),_model_slice_articlesPageSlice__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/pages/ArticlesPage/model/slice/articlesPageSlice.ts"),_ArticlesPageFilters_ArticlesPageFilters__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/pages/ArticlesPage/ui/ArticlesPageFilters/ArticlesPageFilters.tsx");const ArticleInfiniteList=(0,react__WEBPACK_IMPORTED_MODULE_2__.memo)((props=>{const{className:className,onLoadNextPart:onLoadNextPart}=props,articles=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(_model_slice_articlesPageSlice__WEBPACK_IMPORTED_MODULE_5__.GE.selectAll),isLoading=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(_model_selectors_articlesPageSelectors__WEBPACK_IMPORTED_MODULE_4__.p8),view=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(_model_selectors_articlesPageSelectors__WEBPACK_IMPORTED_MODULE_4__.c_),error=(0,react_redux__WEBPACK_IMPORTED_MODULE_3__.d4)(_model_selectors_articlesPageSelectors__WEBPACK_IMPORTED_MODULE_4__.VX);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_entities_Article__WEBPACK_IMPORTED_MODULE_1__.R2,{virtualized:{Header:_ArticlesPageFilters_ArticlesPageFilters__WEBPACK_IMPORTED_MODULE_6__.m,onLoadNextPart:onLoadNextPart},wrap:!0,className:className,isLoading:isLoading,view:view,articles:articles,error:Boolean(error)})}));ArticleInfiniteList.__docgenInfo={description:"",methods:[],displayName:"ArticleInfiniteList",props:{className:{required:!1,tsType:{name:"string"},description:""},onLoadNextPart:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./src/pages/ArticlesPage/ui/ArticlesPage/ArticlesPage.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Dark:function(){return Dark},Light:function(){return Light},Orange:function(){return Orange},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return ArticlesPage_stories}});var theme=__webpack_require__("./src/shared/const/theme.ts"),ThemeDecorator=__webpack_require__("./src/shared/config/storybook/Decorators/ThemeDecorator.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),dist=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),DynamicModuleLoader=__webpack_require__("./src/shared/lib/components/DynamicModuleLoader/DynamicModuleLoader.tsx"),useAppDispatch=__webpack_require__("./src/shared/lib/hooks/useAppDispatch/useAppDispatch.ts"),useInitialsEffects=__webpack_require__("./src/shared/lib/hooks/useInitialEffects/useInitialsEffects.ts"),Stack=__webpack_require__("./src/shared/ui/Stack/index.ts"),Text=__webpack_require__("./src/shared/ui/Text/index.ts"),Page=__webpack_require__("./src/widgets/Page/index.ts"),articlesPageSelectors=__webpack_require__("./src/pages/ArticlesPage/model/selectors/articlesPageSelectors.ts"),redux_toolkit_esm=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),articlesPageSlice=__webpack_require__("./src/pages/ArticlesPage/model/slice/articlesPageSlice.ts"),fetchArticlesList=__webpack_require__("./src/pages/ArticlesPage/model/services/fetchArticlesList/fetchArticlesList.ts");const fetchNextArticlesPage=(0,redux_toolkit_esm.zD)("articlesPage/fetchNextArticlesPage",(async(_,thunkApi)=>{const{getState:getState,dispatch:dispatch}=thunkApi,hasMore=(0,articlesPageSelectors.im)(getState()),isLoading=(0,articlesPageSelectors.p8)(getState()),page=(0,articlesPageSelectors.fx)(getState());hasMore&&!isLoading&&(dispatch(articlesPageSlice.SO.setPage(page+1)),dispatch((0,fetchArticlesList.y)({add:!0})))})),initArticlesPage=(0,redux_toolkit_esm.zD)("articlesPage/initArticlesPage",(async(searchParams,thunkApi)=>{const{getState:getState,dispatch:dispatch}=thunkApi;if(!(0,articlesPageSelectors.qK)(getState())){const orderFromUrl=searchParams.get("order"),sortFromUrl=searchParams.get("sort"),typeFromUrl=searchParams.get("type"),searchFromUrl=searchParams.get("search");orderFromUrl&&dispatch(articlesPageSlice.SO.setOrder(orderFromUrl)),sortFromUrl&&dispatch(articlesPageSlice.SO.setSort(sortFromUrl)),typeFromUrl&&dispatch(articlesPageSlice.SO.setType(typeFromUrl)),searchFromUrl&&dispatch(articlesPageSlice.SO.setSearch(searchFromUrl)),dispatch(articlesPageSlice.SO.initState()),dispatch((0,fetchArticlesList.y)({}))}}));var ArticleInfiniteList=__webpack_require__("./src/pages/ArticlesPage/ui/ArticleInfiniteList/ArticleInfiniteList.tsx");const reducers={articlesPage:articlesPageSlice.v0},ArticlesPage=()=>{const dispatch=(0,useAppDispatch.j)(),error=(0,es.d4)(articlesPageSelectors.VX),inited=(0,es.d4)(articlesPageSelectors.qK),[searchParams]=(0,dist.ok)();(0,useInitialsEffects.m)((()=>!inited&&dispatch(initArticlesPage(searchParams))));const onLoadNextPart=(0,react.useCallback)((()=>{dispatch(fetchNextArticlesPage())}),[dispatch]);return error?(0,jsx_runtime.jsx)(Page.YW,{children:(0,jsx_runtime.jsx)(Text.EY,{align:Text.nO.CENTER,title:error})}):(0,jsx_runtime.jsx)(DynamicModuleLoader.H,{removeAfterRemount:!1,reducers:reducers,children:(0,jsx_runtime.jsx)(Stack.T,{max:!0,children:(0,jsx_runtime.jsx)(ArticleInfiniteList.r,{onLoadNextPart:onLoadNextPart})})})};var ArticlesPage_ArticlesPage=(0,react.memo)(ArticlesPage);ArticlesPage.__docgenInfo={description:"",methods:[],displayName:"ArticlesPage"};var StoreDecorator=__webpack_require__("./src/shared/config/storybook/Decorators/StoreDecorator.tsx"),Article=__webpack_require__("./src/entities/Article/index.ts");const article={id:"1",title:"Javascript news",subtitle:"Что нового в JS за 2022 год?",img:"https://teknotower.com/wp-content/uploads/2020/11/js.png",views:1488,createdAt:"26.02.2022",user:{id:"1",username:"user",avatar:"https://i.pinimg.com/736x/37/8a/27/378a270e775265622393da8c0527417e.jpg"},type:["IT","ECONOMIS","PROGRAMMING","SCIENCE"],blocks:[{id:"1",type:"TEXT",title:"Заголовок этого блока",paragraphs:["Программа, которую по традиции называют «Hello, world!», очень проста. Она выводит куда-либо фразу «Hello, world!», или другую подобную, средствами некоего языка.","JavaScript — это язык, программы на котором можно выполнять в разных средах. В нашем случае речь идёт о браузерах и о серверной платформе Node.js. Если до сих пор вы не написали ни строчки кода на JS и читаете этот текст в браузере, на настольном компьютере, это значит, что вы буквально в считанных секундах от своей первой JavaScript-программы.","Существуют и другие способы запуска JS-кода в браузере. Так, если говорить об обычном использовании программ на JavaScript, они загружаются в браузер для обеспечения работы веб-страниц. Как правило, код оформляют в виде отдельных файлов с расширением .js, которые подключают к веб-страницам, но программный код можно включать и непосредственно в код страницы. Всё это делается с помощью тега <script>. Когда браузер обнаруживает такой код, он выполняет его. Подробности о теге script можно посмотреть на сайте w3school.com. В частности, рассмотрим пример, демонстрирующий работу с веб-страницей средствами JavaScript, приведённый на этом ресурсе. Этот пример можно запустить и средствами данного ресурса (ищите кнопку Try it Yourself), но мы поступим немного иначе. А именно, создадим в каком-нибудь текстовом редакторе (например — в VS Code или в Notepad++) новый файл, который назовём hello.html, и добавим в него следующий код:"]},{id:"4",type:"CODE",language:"javascript",code:'<!DOCTYPE html>\n<html>\n  <body>\n    <p id="hello"></p>\n\n    <script>\n      document.getElementById("hello").innerHTML = "Hello, world!";\n    <\/script>\n  </body>\n</html>;'},{id:"5",type:"TEXT",title:"Заголовок этого блока",paragraphs:["Программа, которую по традиции называют «Hello, world!», очень проста. Она выводит куда-либо фразу «Hello, world!», или другую подобную, средствами некоего языка.","Существуют и другие способы запуска JS-кода в браузере. Так, если говорить об обычном использовании программ на JavaScript, они загружаются в браузер для обеспечения работы веб-страниц. Как правило, код оформляют в виде отдельных файлов с расширением .js, которые подключают к веб-страницам, но программный код можно включать и непосредственно в код страницы. Всё это делается с помощью тега <script>. Когда браузер обнаруживает такой код, он выполняет его. Подробности о теге script можно посмотреть на сайте w3school.com. В частности, рассмотрим пример, демонстрирующий работу с веб-страницей средствами JavaScript, приведённый на этом ресурсе. Этот пример можно запустить и средствами данного ресурса (ищите кнопку Try it Yourself), но мы поступим немного иначе. А именно, создадим в каком-нибудь текстовом редакторе (например — в VS Code или в Notepad++) новый файл, который назовём hello.html, и добавим в него следующий код:"]},{id:"2",type:"IMAGE",src:"https://hsto.org/r/w1560/getpro/habr/post_images/d56/a02/ffc/d56a02ffc62949b42904ca00c63d8cc1.png",title:"Рисунок 1 - скриншот сайта"},{id:"3",type:"CODE",language:"javascript",code:"const path = require('path');\n\nconst server = jsonServer.create();\n\nconst router = jsonServer.router(path.resolve(__dirname, 'db.json'));\n\nserver.use(jsonServer.defaults({}));\nserver.use(jsonServer.bodyParser);"},{id:"7",type:"TEXT",title:"Заголовок этого блока",paragraphs:["JavaScript — это язык, программы на котором можно выполнять в разных средах. В нашем случае речь идёт о браузерах и о серверной платформе Node.js. Если до сих пор вы не написали ни строчки кода на JS и читаете этот текст в браузере, на настольном компьютере, это значит, что вы буквально в считанных секундах от своей первой JavaScript-программы.","Существуют и другие способы запуска JS-кода в браузере. Так, если говорить об обычном использовании программ на JavaScript, они загружаются в браузер для обеспечения работы веб-страниц. Как правило, код оформляют в виде отдельных файлов с расширением .js, которые подключают к веб-страницам, но программный код можно включать и непосредственно в код страницы. Всё это делается с помощью тега <script>. Когда браузер обнаруживает такой код, он выполняет его. Подробности о теге script можно посмотреть на сайте w3school.com. В частности, рассмотрим пример, демонстрирующий работу с веб-страницей средствами JavaScript, приведённый на этом ресурсе. Этот пример можно запустить и средствами данного ресурса (ищите кнопку Try it Yourself), но мы поступим немного иначе. А именно, создадим в каком-нибудь текстовом редакторе (например — в VS Code или в Notepad++) новый файл, который назовём hello.html, и добавим в него следующий код:"]},{id:"8",type:"IMAGE",src:"https://hsto.org/r/w1560/getpro/habr/post_images/d56/a02/ffc/d56a02ffc62949b42904ca00c63d8cc1.png",title:"Рисунок 1 - скриншот сайта"},{id:"9",type:"TEXT",title:"Заголовок этого блока",paragraphs:["JavaScript — это язык, программы на котором можно выполнять в разных средах. В нашем случае речь идёт о браузерах и о серверной платформе Node.js. Если до сих пор вы не написали ни строчки кода на JS и читаете этот текст в браузере, на настольном компьютере, это значит, что вы буквально в считанных секундах от своей первой JavaScript-программы."]}]};var ArticlesPage_stories={title:"pages/ArticlesPage/ArticlesPage",component:ArticlesPage_ArticlesPage,tags:["autodocs"],decorators:[(0,StoreDecorator.R)({articlesPage:{ids:["1","2","3"],error:void 0,isLoading:!1,_inited:!1,hasMore:!0,page:1,limit:4,view:Article.Uv.LIST,type:Article.PF.ALL,sort:Article.N9.VIEWS,order:"ASC",search:"",entities:{1:article,2:{...article,id:"2"},3:{...article,id:"3"}}}})]};const Light={decorators:[(0,ThemeDecorator.n)(theme.S.LIGHT)]},Dark={decorators:[(0,ThemeDecorator.n)(theme.S.DARK)]},Orange={decorators:[(0,ThemeDecorator.n)(theme.S.ORANGE)]},__namedExportsOrder=["Light","Dark","Orange"];Light.parameters={...Light.parameters,docs:{...Light.parameters?.docs,source:{originalSource:"{\n  decorators: [ThemeDecorator(Theme.LIGHT)]\n}",...Light.parameters?.docs?.source}}},Dark.parameters={...Dark.parameters,docs:{...Dark.parameters?.docs,source:{originalSource:"{\n  decorators: [ThemeDecorator(Theme.DARK)]\n}",...Dark.parameters?.docs?.source}}},Orange.parameters={...Orange.parameters,docs:{...Orange.parameters?.docs,source:{originalSource:"{\n  decorators: [ThemeDecorator(Theme.ORANGE)]\n}",...Orange.parameters?.docs?.source}}}}}]);