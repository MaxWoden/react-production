"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[4655],{"./src/features/profileRating/ui/ProfileRating/ProfileRating.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_entities_Rating__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/entities/Rating/index.ts"),_entities_User__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/entities/User/index.ts"),_shared_ui_Skeleton__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/shared/ui/Skeleton/index.ts"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),react_i18next__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-i18next/dist/es/useTranslation.js"),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-redux/es/index.js"),_api_profileRatingApi__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/features/profileRating/api/profileRatingApi.ts");const ProfileRating=props=>{const{className:className,profileId:profileId}=props,{t:t}=(0,react_i18next__WEBPACK_IMPORTED_MODULE_7__.B)(),userData=(0,react_redux__WEBPACK_IMPORTED_MODULE_5__.d4)(_entities_User__WEBPACK_IMPORTED_MODULE_2__.ed),[rateProfileMutation]=(0,_api_profileRatingApi__WEBPACK_IMPORTED_MODULE_6__.ZL)();if(!userData)return null;const{data:data,isLoading:isLoading}=(0,_api_profileRatingApi__WEBPACK_IMPORTED_MODULE_6__.oJ)({userId:userData?.id,profileId:profileId}),onAccept=(0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)(((starsCount,feedback)=>{try{rateProfileMutation({userId:userData.id,profileId:profileId,rate:starsCount,feedback:feedback})}catch(error){console.log(error)}}),[rateProfileMutation,profileId,userData.id]);return isLoading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_shared_ui_Skeleton__WEBPACK_IMPORTED_MODULE_3__.E,{width:"100%",height:120}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_entities_Rating__WEBPACK_IMPORTED_MODULE_1__.K,{rate:data?.[0]?.rate,onAccept:onAccept,className:className,title:t("Оцените профиль"),hasFeedback:!0,feedbackTitle:t("Оставьте свой отзыв о профиле")})};__webpack_exports__.default=(0,react__WEBPACK_IMPORTED_MODULE_4__.memo)(ProfileRating),ProfileRating.__docgenInfo={description:"",methods:[],displayName:"ProfileRating",props:{className:{required:!1,tsType:{name:"string"},description:""},profileId:{required:!0,tsType:{name:"string"},description:""}}}}}]);