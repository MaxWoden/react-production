"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[958],{3181:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var r=n(5893),a=n(4905),o=n(7294),c=n(3942),i=n(9711),l=n(4611),u=n(9585),s=n(5461),f=n(6308),v=n(9312),d=n(9950),p=function(e){var t;return null===(t=e.articlesPage)||void 0===t?void 0:t.error},h=function(e){var t;return null===(t=e.articlesPage)||void 0===t?void 0:t.isLoading},g=function(e){var t;return null===(t=e.articlesPage)||void 0===t?void 0:t._inited},y=function(e){var t;return(null===(t=e.articlesPage)||void 0===t?void 0:t.view)||a.GA.LIST},m=function(e){var t,n;return null!==(n=null===(t=e.articlesPage)||void 0===t?void 0:t.sort)&&void 0!==n?n:a.$B.VIEWS},b=function(e){var t,n;return null!==(n=null===(t=e.articlesPage)||void 0===t?void 0:t.order)&&void 0!==n?n:"ASC"},w=function(e){var t,n;return null!==(n=null===(t=e.articlesPage)||void 0===t?void 0:t.search)&&void 0!==n?n:""},x=function(e){var t,n;return null!==(n=null===(t=e.articlesPage)||void 0===t?void 0:t.type)&&void 0!==n?n:a.Iq.ALL},S=n(4268),j=n(7665),C=(0,S.hg)("articlesPage/fetchArticlesList",(function(e,t){return n=void 0,r=void 0,o=function(){var e,n,r,a,o,c,i,l,u,s,f;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(v){switch(v.label){case 0:e=t.extra,n=t.rejectWithValue,r=t.getState,a=function(e){var t;return(null===(t=e.articlesPage)||void 0===t?void 0:t.limit)||16}(r()),o=x(r()),c=m(r()),i=b(r()),l=w(r()),u=w(r()),v.label=1;case 1:return v.trys.push([1,3,,4]),d={sort:c,order:i,search:l,type:o},window.history.pushState(null,"",function(e){var t=new URLSearchParams(window.location.search);return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];void 0!==r&&t.set(n,r)})),"?".concat(t.toString())}(d)),[4,e.api.get("/articles",{params:{q:l,type_like:o,_sort:c,_order:i,_page:u,_limit:a,_expand:"user"}})];case 2:if(!(s=v.sent().data))throw new Error;return[2,s];case 3:return f=v.sent(),console.log(f),[2,n("error")];case 4:return[2]}var d}))},new((a=void 0)||(a=Promise))((function(e,t){function c(e){try{l(o.next(e))}catch(e){t(e)}}function i(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(c,i)}l((o=o.apply(n,r||[])).next())}));var n,r,a,o})),P=(0,S.HF)({selectId:function(e){return e.id}}),k=P.getSelectors((function(e){return e.articlesPage||P.getInitialState()})),I=(0,S.oM)({name:"articlesPage",initialState:P.getInitialState({isLoading:!1,error:void 0,ids:[],entities:{},page:1,hasMore:!0,_inited:!1,limit:16,sort:a.$B.CREATED,search:"",order:"ASC",type:a.Iq.ALL,view:a.GA.LIST}),reducers:{setView:function(e,t){e.view=t.payload,localStorage.setItem(j.fK,t.payload),e.limit=t.payload===a.GA.LIST?4:16},setPage:function(e,t){e.page=t.payload},setType:function(e,t){e.type=t.payload},setSearch:function(e,t){e.search=t.payload},setSort:function(e,t){e.sort=t.payload},setOrder:function(e,t){e.order=t.payload},initState:function(e){var t=localStorage.getItem(j.fK);e.view=t,e.limit=t===a.GA.LIST?4:16,e._inited=!0}},extraReducers:function(e){e.addCase(C.pending,(function(e,t){e.isLoading=!0,e.error=void 0,t.meta.arg.add||P.removeAll(e)})).addCase(C.fulfilled,(function(e,t){e.isLoading=!1,e.hasMore=t.payload.length>=e.limit,t.meta.arg.add?P.addMany(e,t.payload):P.setAll(e,t.payload)})).addCase(C.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),O=I.actions,A=I.reducer,N=(0,S.hg)("articlesPage/fetchNextArticlesPage",(function(e,t){return n=void 0,r=void 0,o=function(){var e,n,r,a,o;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(c){return e=t.getState,n=t.dispatch,r=function(e){var t;return null===(t=e.articlesPage)||void 0===t?void 0:t.hasMore}(e()),a=h(e()),o=function(e){var t;return(null===(t=e.articlesPage)||void 0===t?void 0:t.page)||1}(e()),r&&!a&&(n(O.setPage(o+1)),n(C({add:!0}))),[2]}))},new((a=void 0)||(a=Promise))((function(e,t){function c(e){try{l(o.next(e))}catch(e){t(e)}}function i(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(c,i)}l((o=o.apply(n,r||[])).next())}));var n,r,a,o})),E=(0,S.hg)("articlesPage/initArticlesPage",(function(e,t){return n=void 0,r=void 0,o=function(){var n,r,a,o,c,i;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(l){return n=t.getState,r=t.dispatch,g(n())||(a=e.get("order"),o=e.get("sort"),c=e.get("type"),i=e.get("search"),a&&r(O.setOrder(a)),o&&r(O.setSort(o)),c&&r(O.setType(c)),i&&r(O.setSearch(i)),r(O.initState()),r(C({}))),[2]}))},new((a=void 0)||(a=Promise))((function(e,t){function c(e){try{l(o.next(e))}catch(e){t(e)}}function i(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(c,i)}l((o=o.apply(n,r||[])).next())}));var n,r,a,o})),T=n(2327),L=n(6787),M=n(4456),R=n(1390),V=n(6017),G=n(4743),q=(0,o.memo)((function(e){var t=e.className,n=e.order,a=e.sort,c=e.onChangeOrder,i=e.onChangeSort,u=(0,T.$)().t,s=(0,o.useMemo)((function(){return[{value:V.$B.VIEWS,content:u("популярности")},{value:V.$B.CREATED,content:u("дате создания")},{value:V.$B.TITLE,content:u("названию")}]}),[u]),f=(0,o.useMemo)((function(){return[{value:"DESC",content:u("убыванию")},{value:"ASC",content:u("возрастанию")}]}),[u]);return(0,r.jsxs)(R.U,{gap:"32",className:(0,l.A)("",{},[t]),children:[(0,r.jsx)(G.P,{label:u("Сортировать ПО"),options:s,onSelect:function(e){return i(e)},value:a}),(0,r.jsx)(G.P,{label:u("по"),options:f,onSelect:function(e){return c(e)},value:n})]})}));const B={item:"YTdmRPCZ",clear:"kREYPwWz",selected:"ZhF6Sqyx",outline:"XK6pCBJ5"};var _;!function(e){e.CLEAR="clear",e.OUTLINE="outline"}(_||(_={}));var U,W=function(e){var t=e.className,n=e.tabs,a=e.value,c=e.onTabClick,i=e.theme,u=void 0===i?_.CLEAR:i,s=(0,o.useState)(n[0].value),f=s[0],v=s[1];(0,o.useEffect)((function(){a&&v(a)}),[a]);var d=(0,o.useCallback)((function(e){return function(){c(e.value),v(e.value)}}),[c]),p=[t,B[u]];return(0,r.jsx)(R.U,{wrap:!0,gap:"16",className:(0,l.A)("",{},p),children:n.map((function(e){var t;return(0,r.jsx)(L.Z,{onClick:d(e),className:(0,l.A)(B.item,(t={},t[B.selected]=f===e.value,t)),children:e.content},e.value)}))})},$=(0,o.memo)((function(e){var t=e.className,n=e.type,c=e.onChangeType,i=(0,T.$)().t,l=(0,o.useMemo)((function(){return[{value:a.Iq.ALL,content:i("Все статьи")},{value:a.Iq.IT,content:i("Айти")},{value:a.Iq.ECONOMICS,content:i("Экономика")},{value:a.Iq.SCIENCE,content:i("Наука")}]}),[i]);return(0,r.jsx)(W,{tabs:l,value:n,onTabClick:c,className:t})}));function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}var K;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}var F=n(219),Z=n(4282);var D=[{view:a.GA.LIST,Icon:function(e){return o.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 0 18 18"},e),K||(K=o.createElement("g",{fillRule:"evenodd"},o.createElement("rect",{width:18,height:4,rx:2}),o.createElement("rect",{width:18,height:4,y:7,rx:2}),o.createElement("rect",{width:18,height:4,y:14,rx:2}))))}},{view:a.GA.GRID,Icon:function(e){return o.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 -0.5 21 21"},e),U||(U=o.createElement("path",{fillRule:"evenodd",d:"M18.9 14h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2v-2c0-1.105-.94-2-2.1-2m-7.35 0h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2v-2c0-1.105-.94-2-2.1-2M4.2 14H2.1C.94 14 0 14.895 0 16v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2v-2c0-1.105-.94-2-2.1-2m14.7-7h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V9c0-1.105-.94-2-2.1-2m-7.35 0h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V9c0-1.105-.94-2-2.1-2M4.2 7H2.1C.94 7 0 7.895 0 9v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V9c0-1.105-.94-2-2.1-2m14.7-7h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V2c0-1.105-.94-2-2.1-2m-7.35 0h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V2c0-1.105-.94-2-2.1-2M6.3 2v2c0 1.105-.94 2-2.1 2H2.1C.94 6 0 5.105 0 4V2C0 .895.94 0 2.1 0h2.1c1.16 0 2.1.895 2.1 2"})))}}],J=(0,o.memo)((function(e){var t=e.className,n=e.view,a=e.onViewClick;return(0,r.jsx)(R.U,{gap:"8",className:(0,l.A)("",{},[t]),children:D.map((function(e,t){var o;return(0,r.jsx)(F.zx,{onClick:function(){return a(e.view)},children:(0,r.jsx)(Z.J,{Svg:e.Icon,className:(0,l.A)("KMenmA4M",(o={},o.fUzaEPSU=n===e.view,o))})},t)}))})}));var Q=(0,o.memo)((function(){var e,t,n=(0,T.$)().t,a=(0,s.T)(),i=(0,c.v9)(y),l=(0,c.v9)(x),u=(0,c.v9)(m),f=(0,c.v9)(b),v=(0,c.v9)(w),d=function(){return a(C({}))},p=(e=function(){d()},t=(0,o.useRef)(),(0,o.useCallback)((function(){t.current&&clearTimeout(t.current),t.current=setTimeout((function(){e()}),500)}),[e,500])),h=(0,o.useCallback)((function(e){a(O.setView(e)),a(O.setPage(1)),d()}),[a,p]),g=(0,o.useCallback)((function(e){a(O.setType(e)),a(O.setPage(1)),d()}),[a,p]),S=(0,o.useCallback)((function(e){a(O.setSort(e)),a(O.setPage(1)),d()}),[a,p]),j=(0,o.useCallback)((function(e){a(O.setOrder(e)),a(O.setPage(1)),d()}),[a,p]),P=(0,o.useCallback)((function(e){a(O.setSearch(e)),a(O.setPage(1)),p()}),[a,p]);return(0,r.jsxs)(R.g,{gap:"16",children:[(0,r.jsxs)(R.U,{max:!0,justify:"between",children:[(0,r.jsx)(q,{order:f,sort:u,onChangeOrder:j,onChangeSort:S}),(0,r.jsx)(J,{onViewClick:h,view:i})]}),(0,r.jsx)(L.Z,{className:"QkNSez8q",children:(0,r.jsx)(M.I,{value:v,onChange:P,placeholder:n("Поиск")})}),(0,r.jsx)($,{type:l,onChangeType:g})]})}));const X={title:"jllO1R77",list:"UsH35LqR"};var Y={articlesPage:A},ee=function(e){var t=e.className,n=(0,s.T)(),m=(0,c.v9)(k.selectAll),b=(0,c.v9)(h),w=(0,c.v9)(p),x=(0,c.v9)(y),S=(0,c.v9)(g),j=(0,i.lr)()[0];(0,f.Q)((function(){return!S&&n(E(j))}));var C=(0,o.useCallback)((function(){n(N())}),[n]);return w?(0,r.jsx)(d.T3,{className:(0,l.A)(X.ArticlesPage,{},[t]),children:(0,r.jsx)(v.xv,{title:w,className:X.title})}):(0,r.jsx)(u.W,{removeAfterRemount:!1,reducers:Y,children:(0,r.jsxs)(d.T3,{onScrollEnd:C,className:(0,l.A)(X.ArticlesPage,{},[t]),children:[(0,r.jsx)(Q,{}),(0,r.jsx)(a.fO,{wrap:!0,className:X.list,isLoading:b,view:x,articles:m})]})})};const te=(0,o.memo)(ee)},4456:(e,t,n)=>{n.d(t,{I:()=>u});var r=n(5893),a=n(7294),o=n(4611);const c={input:"LVdIPwcx",caretWrapper:"y1GiFC_L",caret:"lqMFGBuL",readonly:"fTN1PnWu"};var i=n(1390),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},u=(0,a.memo)((function(e){var t,n=e.className,u=e.value,s=void 0===u?"":u,f=e.onChange,v=e.placeholder,d=e.type,p=void 0===d?"text":d,h=e.autofocus,g=e.readonly,y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","value","onChange","placeholder","type","autofocus","readonly"]),m=(0,a.useRef)(),b=(0,a.useState)(!1),w=b[0],x=b[1],S=(0,a.useState)(null==s?void 0:s.length),j=S[0],C=S[1],P=w&&!g;return(0,a.useEffect)((function(){h&&(x(!0),m.current.focus())}),[]),(0,r.jsxs)(i.U,{gap:"4",className:(0,o.A)("",(t={},t[c.readonly]=g,t),[n]),children:[v&&(0,r.jsx)("div",{className:c.placeholder,children:"".concat(v,"> ")}),(0,r.jsxs)("div",{className:c.caretWrapper,children:[(0,r.jsx)("input",l({ref:m,type:p,value:s,onChange:function(e){null==f||f(e.target.value),C(e.target.value.length)},className:c.input,onFocus:function(){x(!0)},onBlur:function(){x(!1)},onSelect:function(e){var t;C((null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.selectionStart)||0)},readOnly:g},y)),P&&(0,r.jsx)("span",{className:c.caret,style:{left:"".concat(8.8*j,"px")}})]})]})}))},4743:(e,t,n)=>{n.d(t,{P:()=>c});var r=n(5893),a=n(7294),o=n(4611);var c=function(e){var t,n=e.className,c=e.options,i=e.onSelect,l=e.label,u=e.value,s=e.readonly,f=(0,a.useState)(!1),v=f[0],d=f[1],p=(0,a.useState)(c[0]),h=p[0],g=p[1];(0,a.useEffect)((function(){u&&g(c.find((function(e){return e.value===u})))}),[u]),(0,a.useEffect)((function(){s&&d(!1)}),[s]);var y=(0,a.useCallback)((function(e,t){e.stopPropagation(),i(t.value),g(t),d(!1)}),[]),m=function(){s||d((function(e){return!e}))},b=(0,a.useMemo)((function(){return null==c?void 0:c.map((function(e){var t;return(0,r.jsx)("li",{className:(0,o.A)("zZgj2JgW",(t={},t.rKHhU8sR=h.value===e.value,t)),onClick:function(t){return y(t,e)},children:e.content},e.value)}))}),[c,h]);return(0,r.jsxs)("div",{className:(0,o.A)("eXu4wq7K",(t={},t.HaBgyfSK=s,t),[n]),children:[l&&(0,r.jsx)("span",{className:"G1uuf7Bp",children:"".concat(l,">")}),(0,r.jsx)("div",{className:"t4ay1peO",onClick:m,children:h.content}),v&&(0,r.jsx)("ul",{className:"xWiG1Vj4",onClick:m,children:b})]})}}}]);