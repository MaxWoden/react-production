"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[322],{5322:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(5893),r=n(7294),o=n(2327),l=n(3942),c=n(4611),u=n(9585),s=n(5461),i=n(219),d=n(4456),p=n(9312),v=function(e){var t;return null===(t=null==e?void 0:e.addCommentForm)||void 0===t?void 0:t.error},m=function(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.addCommentForm)||void 0===t?void 0:t.text)&&void 0!==n?n:""},f=(0,n(4268).oM)({name:"addCommentForm",initialState:{text:"",error:void 0},reducers:{setText:function(e,t){e.text=t.payload}}}),h=f.actions,x=f.reducer;var y=n(1390),g={addCommentForm:x};const j=(0,r.memo)((function(e){var t=e.className,n=e.onSendComment,f=(0,o.$)().t,x=(0,s.T)(),j=(0,r.useState)(!0),b=j[0],C=j[1],O=(0,l.v9)(v),N=(0,l.v9)(m),S=(0,r.useCallback)((function(e){e.length&&b?C(!1):e.length||b||C(!0),x(h.setText(e))}),[x,b]),F=(0,r.useCallback)((function(){n(N||""),S("")}),[S,n,N]);return(0,a.jsx)(u.W,{reducers:g,children:(0,a.jsx)(y.U,{max:!0,className:(0,c.A)("MGeHamRn",{},[t]),children:O?(0,a.jsx)(p.xv,{theme:p.lg.ERROR,text:f("Произошла непредвиденная ошибка")}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.I,{className:"KxmbMJIH",onChange:S,value:N,placeholder:f("Введите комментарий")}),(0,a.jsx)(i.zx,{disabled:b,onClick:F,theme:i.bn.OUTLINE,children:f("Отправить")})]})})})}))},4456:(e,t,n)=>{n.d(t,{I:()=>s});var a=n(5893),r=n(7294),o=n(4611);const l={input:"LVdIPwcx",caretWrapper:"y1GiFC_L",caret:"lqMFGBuL",readonly:"fTN1PnWu"};var c=n(1390),u=function(){return u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},s=(0,r.memo)((function(e){var t,n=e.className,s=e.value,i=void 0===s?"":s,d=e.onChange,p=e.placeholder,v=e.type,m=void 0===v?"text":v,f=e.autofocus,h=e.readonly,x=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["className","value","onChange","placeholder","type","autofocus","readonly"]),y=(0,r.useRef)(),g=(0,r.useState)(!1),j=g[0],b=g[1],C=(0,r.useState)(null==i?void 0:i.length),O=C[0],N=C[1],S=j&&!h;return(0,r.useEffect)((function(){f&&(b(!0),y.current.focus())}),[]),(0,a.jsxs)(c.U,{gap:"4",className:(0,o.A)("",(t={},t[l.readonly]=h,t),[n]),children:[p&&(0,a.jsx)("div",{className:l.placeholder,children:"".concat(p,"> ")}),(0,a.jsxs)("div",{className:l.caretWrapper,children:[(0,a.jsx)("input",u({ref:y,type:m,value:i,onChange:function(e){null==d||d(e.target.value),N(e.target.value.length)},className:l.input,onFocus:function(){b(!0)},onBlur:function(){b(!1)},onSelect:function(e){var t;N((null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.selectionStart)||0)},readOnly:h},x)),S&&(0,a.jsx)("span",{className:l.caret,style:{left:"".concat(8.8*O,"px")}})]})]})}))}}]);