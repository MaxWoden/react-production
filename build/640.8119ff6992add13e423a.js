"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[640],{1640:function(e,t,n){n.r(t);var s=n(8697),a=n(6540),r=n(7778),l=n(4848);const i=e=>{const{className:t,profileId:n}=e,{data:a,isLoading:i}=(0,r.ah)(n);return(0,l.jsx)(s.D,{className:t,isLoading:i,data:a})};t.default=(0,a.memo)(i)},1836:function(e,t,n){n.d(t,{Z:function(){return s.Z}});var s=n(3334)},3334:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(6540),a=n(423),r="t7i88i9v",l=n(4848);const i=(0,s.memo)((e=>{const{className:t,children:n,max:s,...i}=e;return(0,l.jsx)("div",{className:(0,a.x)("GNYonvC5",{[r]:s},[t]),...i,children:n})}))},7778:function(e,t,n){n.d(t,{ZL:function(){return l},ah:function(){return r},oJ:function(){return a}});const s=n(7867).q.injectEndpoints({endpoints:e=>({getProfileRating:e.query({query:e=>{let{userId:t,profileId:n}=e;return{url:"/profile-ratings",params:{userId:t,profileId:n}}}}),getAllProfileRatings:e.query({query:e=>({url:"/profile-ratings",params:{profileId:e}})}),rateArticle:e.mutation({query:e=>({url:"/profile-ratings",method:"POST",body:e})})})}),a=s.useGetProfileRatingQuery,r=s.useGetAllProfileRatingsQuery,l=s.useRateArticleMutation},8697:function(e,t,n){n.d(t,{D:function(){return h},K:function(){return N}});var s,a=n(6540);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},r.apply(null,arguments)}var l=e=>a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:22,height:22,fill:"none"},e),s||(s=a.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.075 1.633c.32-.844 1.53-.844 1.852 0l2.07 5.734a.99.99 0 0 0 .926.633h5.087c.94 0 1.35 1.17.61 1.743L17 13a.97.97 0 0 0-.321 1.092L18 19.695c.322.9-.72 1.673-1.508 1.119l-4.917-3.12a1 1 0 0 0-1.15 0l-4.917 3.12c-.787.554-1.83-.22-1.508-1.119l1.322-5.603A.97.97 0 0 0 5 13L1.38 9.743C.64 9.17 1.053 8 1.99 8h5.087a.99.99 0 0 0 .926-.633l2.07-5.734z"}))),i=n(3377),c=n(6314),o=n(35),u=n(5701),d=n(4848);const h=(0,a.memo)((e=>{const{className:t,isLoading:n,data:s,digits:a=2}=e,r=s?.reduce(((e,t)=>e+t.rate),0)||0,h=s?.length||0,x=parseFloat((r/h||0).toFixed(a));return n?(0,d.jsx)(c.E,{width:150,height:30}):(0,d.jsxs)(o.z,{gap:"8",className:t,children:[(0,d.jsx)(i.I,{inverted:!0,width:30,height:30,style:{fill:"goldenrod"},Svg:l}),(0,d.jsx)(u.EY,{size:u.$C.L,text:`${x}(${h})`})]})}));var x=n(42),m=n(1836),f=n(5523),g=n(6232),p=n(8568),j=n(423),v={starIcon:"Z1C6YFZ0",hovered:"QpbxqwVr",selected:"ouStZWWc"};const k=(0,a.memo)((e=>{const{className:t,onSelect:n,size:s=30,selectedStars:r=0}=e,[c,u]=(0,a.useState)(r),[h,x]=(0,a.useState)(!1),[m,f]=(0,a.useState)(Boolean(r));(0,a.useEffect)((()=>{u(r),f(Boolean(r))}),[r]);const g=(0,a.useCallback)((e=>()=>{m||(f(!0),u(e+1),n?.(e+1))}),[m,n]),p=(0,a.useCallback)((e=>()=>{m||(x(!0),u(e+1))}),[m]),k=(0,a.useCallback)((()=>{m||u(0)}),[m]),C=e=>({[v.hovered]:(h||m)&&e<c,[v.selected]:m});return(0,d.jsx)(o.z,{max:!0,gap:"4",className:(0,j.x)(v.StarRating,{},[t]),children:new Array(5).fill(0).map(((e,t)=>(0,d.jsx)(i.I,{onClick:g(t),onMouseEnter:p(t),onMouseLeave:k,className:(0,j.x)(v.starIcon,C(t)),Svg:l,width:s,height:s},t)))})}));var C=n(159),E=n(6142);const N=(0,a.memo)((e=>{const{className:t,title:n,feedbackTitle:s,hasFeedback:r,onCancel:l,onAccept:i,rate:c=0}=e,{t:h}=(0,E.B)(),[j,v]=(0,a.useState)(c),[N,S]=(0,a.useState)(!1),[b,I]=(0,a.useState)(""),L=(0,a.useCallback)((e=>{v(e),r?S(!0):i?.(e)}),[r,i]),w=(0,a.useCallback)((()=>{S(!1),i?.(j,b)}),[i,j,b]),y=(0,a.useCallback)((()=>{S(!1),v(0),I(""),l?.(j)}),[l,j]),O=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.EY,{title:s}),(0,d.jsx)(g.p,{value:b,onChange:e=>{I(e)},placeholder:h("Ваш отзыв")})]});return(0,d.jsxs)(m.Z,{max:!0,className:t,children:[(0,d.jsxs)(o.T,{max:!0,align:"center",gap:"8",children:[(0,d.jsx)(u.EY,{title:j?h("Спасибо за оценку!"):n}),(0,d.jsx)(k,{size:40,onSelect:L,selectedStars:j})]}),r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(C.S7,{children:(0,d.jsx)(p.a,{onClose:y,isOpen:N,children:(0,d.jsxs)(o.T,{max:!0,gap:"32",children:[O,(0,d.jsxs)(o.z,{max:!0,gap:"16",justify:"end",children:[(0,d.jsx)(x.$n,{onClick:y,theme:x.Ox.OUTLINE_RED,children:h("Закрыть")}),(0,d.jsx)(x.$n,{onClick:w,theme:x.Ox.OUTLINE_GREEN,children:h("Отправить")})]})]})})}),(0,d.jsx)(C.IM,{children:(0,d.jsx)(f._,{isOpen:N,onClose:y,children:(0,d.jsxs)(o.T,{max:!0,gap:"32",children:[O,(0,d.jsx)(x.$n,{fullWidth:!0,onClick:w,theme:x.Ox.OUTLINE_GREEN,children:h("Отправить")})]})})})]})]})}))}}]);