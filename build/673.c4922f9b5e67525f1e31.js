"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[673],{673:function(e,t,s){s.d(t,{R0:function(){return J},R2:function(){return re},N9:function(){return a},PF:function(){return c},Uv:function(){return n},xT:function(){return i}});let a=function(e){return e.VIEWS="views",e.TITLE="title",e.CREATED="createdAt",e}({}),r=function(e){return e.TEXT="TEXT",e.CODE="CODE",e.IMAGE="IMAGE",e}({}),c=function(e){return e.ALL="",e.IT="IT",e.SCIENCE="SCIENCE",e.ECONOMICS="ECONOMICS",e}({}),n=function(e){return e.LIST="LIST",e.GRID="GRID",e}({});const i=e=>e.articleDetails?.data,l=e=>e.articleDetails?.isLoading||!1,o=e=>e.articleDetails?.error;var d,h,x,m=s(6540);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},u.apply(null,arguments)}var j,g=e=>m.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 512 512"},e),d||(d=m.createElement("path",{d:"M119.256 222.607h50.881v50.885h-50.881zM341.863 222.607h50.881v50.885h-50.881zM267.662 222.607h50.881v50.885h-50.881zM119.256 302.11h50.881v50.885h-50.881zM267.662 302.11h50.881v50.885h-50.881zM193.46 302.11h50.881v50.885H193.46zM341.863 381.612h50.881v50.885h-50.881zM267.662 381.612h50.881v50.885h-50.881zM193.46 381.612h50.881v50.885H193.46z",className:"calendarIcon_svg__st0"})),h||(h=m.createElement("path",{d:"M439.277 55.046h-41.376v39.67c0 14.802-12.195 26.84-27.183 26.84h-54.025c-14.988 0-27.182-12.038-27.182-26.84v-39.67h-67.094v39.297c0 15.008-12.329 27.213-27.484 27.213h-53.424c-15.155 0-27.484-12.205-27.484-27.213V55.046H72.649c-26.906 0-48.796 21.692-48.796 48.354v360.246c0 26.661 21.89 48.354 48.796 48.354h366.628c26.947 0 48.87-21.692 48.87-48.354V103.4c0-26.661-21.923-48.354-48.87-48.354m13.89 407.661c0 8.56-5.751 14.309-14.311 14.309H73.144c-8.56 0-14.311-5.749-14.311-14.309V178.089h394.334z",className:"calendarIcon_svg__st0"})),x||(x=m.createElement("path",{d:"M141.525 102.507h53.392c4.521 0 8.199-3.653 8.199-8.144v-73.87c0-11.3-9.27-20.493-20.666-20.493h-28.459c-11.395 0-20.668 9.192-20.668 20.493v73.87c.001 4.491 3.679 8.144 8.202 8.144M316.693 102.507h54.025c4.348 0 7.884-3.513 7.884-7.826V20.178C378.602 9.053 369.474 0 358.251 0H329.16c-11.221 0-20.349 9.053-20.349 20.178v74.503c-.001 4.313 3.536 7.826 7.882 7.826",className:"calendarIcon_svg__st0"})));function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},v.apply(null,arguments)}var E=e=>m.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,viewBox:"0 0 1024 1024"},e),j||(j=m.createElement("path",{d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288m0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.19 160.19 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"}))),p=s(8623),N=s(2828),f=s(9991),w=s(7625),b=s(2670),T=s(3377),C=s(6314),I=s(35),k=s(5701),S=s(6142),R=s(1338),y=s(38);const M=(0,y.zD)("article/fetchArticleById",(async(e,t)=>{const{extra:s,rejectWithValue:a}=t;try{if(!e)throw new Error;const{data:t}=await s.api.get(`/articles/${e}`,{params:{_expand:"user"}});if(!t)throw new Error;return t}catch(e){return console.log(e),a("error")}})),z=(0,y.Z0)({name:"article",initialState:{data:void 0,isLoading:!1,error:void 0},reducers:{},extraReducers:e=>{e.addCase(M.pending,(e=>{e.isLoading=!0,e.error=void 0})).addCase(M.fulfilled,((e,t)=>{e.isLoading=!1,e.data=t.payload})).addCase(M.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload}))}}),{actions:L}=z,{reducer:O}=z;var Y,A,B=s(423);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},P.apply(null,arguments)}var _=e=>m.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 0 24 24"},e),Y||(Y=m.createElement("g",{clipPath:"url(#copy_svg__a)"},m.createElement("path",{fillRule:"evenodd",d:"M8 5h7.795c1.115 0 1.519.116 1.926.334s.727.538.945.945S19 7.09 19 8.205V16a1 1 0 1 0 2 0V8.128c0-1.783-.186-2.43-.534-3.082a3.64 3.64 0 0 0-1.512-1.512C18.302 3.186 17.655 3 15.872 3H8a1 1 0 0 0 0 2m7.721 2.334C15.314 7.116 14.91 7 13.795 7h-7.59c-1.115 0-1.519.116-1.926.334a2.27 2.27 0 0 0-.945.945C3.116 8.686 3 9.09 3 10.205v7.59c0 1.114.116 1.519.334 1.926s.538.727.945.945S5.09 21 6.205 21h7.59c1.114 0 1.519-.116 1.926-.334s.727-.538.945-.945.334-.811.334-1.926v-7.59c0-1.115-.116-1.519-.334-1.926a2.27 2.27 0 0 0-.945-.945",clipRule:"evenodd"}))),A||(A=m.createElement("defs",null,m.createElement("clipPath",{id:"copy_svg__a"},m.createElement("path",{d:"M0 0h24v24H0z"}))))),D=s(5102),W=s(4848);const G=(0,m.memo)((e=>{const{className:t,text:s}=e,a=(0,m.useCallback)((()=>{navigator.clipboard.writeText(s)}),[s]);return(0,W.jsxs)("pre",{className:(0,B.x)("EGVBrTRk",{},[t]),children:[(0,W.jsx)(D.$n,{onClick:a,className:"x9B5cNnv",theme:D.Ox.CLEAR,children:(0,W.jsx)(_,{className:"ADwPP7Jp"})}),(0,W.jsx)("code",{children:s})]})})),H=(0,m.memo)((e=>{const{className:t,block:s}=e;return(0,W.jsx)(I.T,{max:!0,className:(0,B.x)("",{},[t]),children:(0,W.jsx)(G,{text:s.code})})}));const V=(0,m.memo)((e=>{const{className:t,block:s}=e,{t:a}=(0,S.B)();return(0,W.jsxs)("div",{className:(0,B.x)("qeyWCkOB",{},[t]),children:[(0,W.jsx)("img",{alt:s.title,src:s.src,className:"Pr2NTJfR"}),s.title&&(0,W.jsx)(k.EY,{text:a(s.title),align:k.nO.CENTER})]})})),$=(0,m.memo)((e=>{let{className:t,block:s}=e;const{t:a}=(0,S.B)();return(0,W.jsxs)(I.T,{gap:"16",className:(0,B.x)("",{},[t]),children:[s.title&&(0,W.jsx)(k.EY,{title:a(s.title)}),(0,W.jsx)(I.T,{gap:"8",children:s.paragraphs.map((e=>(0,W.jsx)(k.EY,{text:e},e)))})]})}));var Z={avatar:"WDmBKEor",icon:"KUWbT9GB",error:"nW3kmAtN"},F=s(569);const X={articleDetails:O},J=(0,m.memo)((e=>{const{className:t,articleId:s,setArticleNotFound:a}=e,{t:c}=(0,S.B)(),n=(0,N.j)(),d=(0,R.d4)(i),h=(0,R.d4)(l),x=(0,R.d4)(o);if((0,f.m)((()=>n(M(s)))),!d?.user)return null;const u=(0,m.useCallback)((e=>{switch(e.type){case r.TEXT:return(0,W.jsx)($,{block:e,className:Z.block},e.id);case r.CODE:return(0,W.jsx)(H,{block:e,className:Z.block},e.id);case r.IMAGE:return(0,W.jsx)(V,{block:e,className:Z.block},e.id);default:return null}}),[]);let j;return h?j=(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(C.E,{className:Z.avatar,width:200,height:200,border:"50%"}),(0,W.jsx)(C.E,{className:Z.title,width:300,height:32}),(0,W.jsx)(C.E,{className:Z.skeleton,width:600,height:24}),(0,W.jsx)(C.E,{className:Z.skeleton,width:"100%",height:200}),(0,W.jsx)(C.E,{className:Z.skeleton,width:"100%",height:200})]}):x?(a?.(!0),j=(0,W.jsx)(k.EY,{align:k.nO.CENTER,theme:k.$G.ERROR,className:Z.error,title:c("Статья не найдена")})):j=(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(I.z,{max:!0,children:(0,W.jsx)(b.e,{src:d?.img,alt:"avatar",size:200,className:Z.avatar})}),(0,W.jsxs)(I.T,{gap:"8",children:[(0,W.jsx)(k.EY,{size:k.$C.L,className:Z.title,title:c(`${d?.title}`),text:c(`${d?.subtitle}`)}),(0,W.jsx)(w.E,{to:(0,F.nL)(d?.user.id),children:(0,W.jsxs)(I.z,{gap:"16",children:[(0,W.jsx)(b.e,{size:50,src:d?.user.avatar}),(0,W.jsx)(k.EY,{text:d?.user.username})]})}),(0,W.jsxs)(I.z,{gap:"8",children:[(0,W.jsx)(T.I,{Svg:g,className:Z.icon}),(0,W.jsx)(k.EY,{text:c(`${d?.createdAt}`)})]}),(0,W.jsxs)(I.z,{gap:"8",children:[(0,W.jsx)(T.I,{Svg:E,className:Z.icon}),(0,W.jsx)(k.EY,{text:c(`${d?.views}`)})]})]}),d?.blocks.map(u)]}),(0,W.jsx)(p.H,{reducers:X,children:(0,W.jsx)(I.T,{justify:"center",gap:"32",max:!0,className:t,children:j})})}));var K=s(1163),U=s(3276),q=s(1836),Q={LIST:"cbg6jpk8",img:"trLYSQ7F",textBlock:"JGwHSPVM",viewsIcon:"VC9R0SVN",articleLink:"BtBnbTeY",GRID:"PVdW3X8M",imageWrapper:"dOeIdIHt",types:"ZhtaCnW5",title:"gvCBzE5L",top:"cY149e5R"},ee=s(4871);const te=(0,m.memo)((e=>{const{className:t,article:s,view:a,target:c,index:i}=e,{t:l}=(0,S.B)(),o=(0,m.useCallback)((()=>{sessionStorage.setItem(U.PB,JSON.stringify(i))}),[i]),d=(0,F.nL)(s.user.id),h=(0,F.Sm)(s.id),x=(0,W.jsx)(k.EY,{text:s.type.join(", ")}),u=(0,W.jsxs)(I.z,{gap:"8",children:[(0,W.jsx)(k.EY,{text:String(s.views)}),(0,W.jsx)(T.I,{Svg:E,className:Q.viewsIcon})]});if(a===n.LIST){const e=s.blocks.find((e=>e.type===r.TEXT)),n=[t,Q[a]];return(0,W.jsx)(q.Z,{className:(0,B.x)("",{},n),children:(0,W.jsxs)(I.T,{gap:"8",children:[(0,W.jsxs)(I.z,{max:!0,justify:"between",children:[(0,W.jsx)(w.E,{target:c,to:d,children:(0,W.jsxs)(I.z,{gap:"8",children:[(0,W.jsx)(b.e,{src:s.user.avatar}),(0,W.jsx)(k.EY,{text:s.user.username})]})}),(0,W.jsx)(k.EY,{text:s.createdAt})]}),(0,W.jsx)(k.EY,{text:s.title}),(0,W.jsxs)(I.T,{gap:"32",children:[x,(0,W.jsx)(ee.r,{fallback:(0,W.jsx)(C.E,{width:"100%",height:250}),alt:s.title,src:s.img,className:Q.img}),e&&(0,W.jsx)($,{block:e,className:Q.textBlock}),(0,W.jsxs)(I.z,{max:!0,justify:"between",children:[(0,W.jsxs)(w.E,{onClick:o,target:c,className:Q.articleLink,to:h,children:[l("Читать далее"),"..."]}),u]})]})]})})}return(0,W.jsx)(w.E,{onClick:o,target:c,className:(0,B.x)(Q.ArticleListItem,{},[t,Q[a]]),to:h,children:(0,W.jsx)(q.Z,{children:(0,W.jsxs)(I.T,{gap:"8",children:[(0,W.jsxs)("div",{className:Q.imageWrapper,children:[(0,W.jsx)(ee.r,{fallback:(0,W.jsx)(C.E,{width:200,height:200}),alt:s.title,src:s.img,className:Q.img}),(0,W.jsxs)(I.z,{max:!0,justify:"between",className:Q.top,children:[(0,W.jsx)(w.E,{target:c,onClick:e=>e.stopPropagation(),to:d,children:s.user.username}),(0,W.jsx)(k.EY,{text:s.createdAt})]})]}),(0,W.jsxs)(I.z,{max:!0,justify:"between",children:[x,u]}),(0,W.jsx)(k.EY,{text:s.title,className:Q.title})]})})})})),se=(0,m.memo)((e=>{const{className:t,view:s}=e,a=[t,Q[s]];return s===n.LIST?(0,W.jsx)(q.Z,{className:(0,B.x)("",{},a),children:(0,W.jsxs)(I.T,{gap:"8",children:[(0,W.jsxs)(I.z,{max:!0,justify:"between",children:[(0,W.jsx)(C.E,{height:100,width:100,border:"50%"}),(0,W.jsx)(C.E,{height:16,width:100})]}),(0,W.jsx)(C.E,{height:16,width:250}),(0,W.jsxs)(I.T,{max:!0,gap:"32",children:[(0,W.jsx)(C.E,{width:300,height:16}),(0,W.jsx)(C.E,{width:"100%",height:400,className:Q.img}),(0,W.jsxs)(I.z,{max:!0,justify:"between",children:[(0,W.jsx)(C.E,{height:32,width:150}),(0,W.jsx)(C.E,{width:130,height:16})]})]})]})}):(0,W.jsx)(q.Z,{className:(0,B.x)("",{},a),children:(0,W.jsxs)(I.T,{gap:"8",children:[(0,W.jsx)(C.E,{width:200,height:200}),(0,W.jsx)(C.E,{width:130,height:16}),(0,W.jsx)(C.E,{width:150,height:16})]})})}));var ae={ArticleList:"Rj3oIrEs",LIST:"eVuGY7gl",card:"WI8w3bYh",skeleton:"F5G6llWM",GRID:"hgAANPLx",itemsWrapper:"Oa7ybrVL"};const re=(0,m.memo)((e=>{const{className:t,articles:s,virtualized:a,isLoading:r,target:c,view:i=n.GRID,error:l}=e,{t:o}=(0,S.B)(),[d,h]=(0,m.useState)(0),x=(0,m.useRef)(null),u=i===n.LIST,j=u?I.T:I.z;(0,f.m)((()=>{const e=sessionStorage.getItem(U.PB)||0;h(+e)})),(0,m.useEffect)((()=>{let e;return u||(e=setTimeout((()=>{x.current&&x.current.scrollToIndex(d)}),100)),()=>clearTimeout(e)}),[d,i,u]);const g=(0,m.useCallback)((e=>{let{index:t}=e;return(0,W.jsx)(se,{view:i,className:ae.skeleton},t)}),[i]),v=(0,m.useCallback)((()=>{const e=new Array(u?3:16).fill(0).map(((e,t)=>(0,W.jsx)(se,{className:ae.skeleton,view:i},t)),[]);return(0,W.jsxs)(I.T,{max:!0,children:[a&&(0,W.jsx)(a.Header,{context:()=>{}}),u?e:(0,W.jsx)("div",{className:ae.itemsWrapper,children:e})]})}),[i,u,a]),E=(0,m.useCallback)(((e,t)=>(0,W.jsx)(te,{target:c,article:t,view:i,className:ae.card,index:e},t.id)),[c,i]);let p;if(r)p=v();else if(l)p=(0,W.jsx)(k.EY,{theme:k.$G.ERROR,align:k.nO.CENTER,text:o("Произошла ошибка")});else if(s.length){if(!a)return(0,W.jsx)(j,{className:t,align:"start",justify:"start",max:!0,gap:"32",children:s.map(((e,t)=>E(t,e)))});{const{Header:e,onLoadNextPart:t}=a;p=u?(0,W.jsx)(K.aY,{useWindowScroll:!0,components:{Header:e},data:s,itemContent:E,totalCount:s.length,endReached:t,initialTopMostItemIndex:d}):(0,W.jsx)(K.sN,{ref:x,useWindowScroll:!0,style:{height:"100%"},totalCount:s.length,components:{Header:e,ScrollSeekPlaceholder:g},endReached:t,listClassName:ae.itemsWrapper,itemContent:E,data:s,scrollSeekConfiguration:{enter:e=>Math.abs(e)>200,exit:e=>Math.abs(e)<30}})}}else p=(0,W.jsx)(k.EY,{align:k.nO.CENTER,text:o("Статьи отсутствуют")});return(0,W.jsx)("div",{className:(0,B.x)(ae.ArticleList,{},[t,ae[i]]),children:p})}))},1836:function(e,t,s){s.d(t,{Z:function(){return a.Z}});var a=s(3334)},3334:function(e,t,s){s.d(t,{Z:function(){return i}});var a=s(6540),r=s(423),c="t7i88i9v",n=s(4848);const i=(0,a.memo)((e=>{const{className:t,children:s,max:a,...i}=e;return(0,n.jsx)("div",{className:(0,r.x)("GNYonvC5",{[c]:a},[t]),...i,children:s})}))},8623:function(e,t,s){s.d(t,{H:function(){return n}});var a=s(6540),r=s(1338),c=s(4848);const n=e=>{const{children:t,reducers:s,removeAfterRemount:n=!0}=e,i=(0,r.wA)(),l=(0,r.Pj)();return(0,a.useEffect)((()=>{const e=l.reducerManager.getReducerMap();if(Object.entries(s).forEach((t=>{let[s,a]=t;s in e||(l.reducerManager.add(s,a),i({type:`@INIT ${s} reducer`}))})),n)return()=>{Object.entries(s).forEach((e=>{let[t]=e;l.reducerManager.remove(t),i({type:`@DESTROY ${t} reducer`})}))}}),[i,n,s,l.reducerManager]),(0,c.jsx)(c.Fragment,{children:t})}}}]);