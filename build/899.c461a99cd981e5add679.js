"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[899],{6858:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var r=n(5893),a=n(2782),o=n(7294),c=n(2327),i=n(9704),l=n(4611),u=n(9585),s=n(5461),v=n(6308),f=n(9312),d=n(9950),h=function(e){var t;return null===(t=e.articlesPage)||void 0===t?void 0:t.error},p=function(e){var t;return null===(t=e.articlesPage)||void 0===t?void 0:t.isLoading},g=function(e){var t;return null===(t=e.articlesPage)||void 0===t?void 0:t._inited},y=function(e){var t;return(null===(t=e.articlesPage)||void 0===t?void 0:t.view)||a.GA.LIST},m=function(e){var t,n;return null!==(n=null===(t=e.articlesPage)||void 0===t?void 0:t.sort)&&void 0!==n?n:a.$B.VIEWS},b=function(e){var t,n;return null!==(n=null===(t=e.articlesPage)||void 0===t?void 0:t.order)&&void 0!==n?n:"ASC"},w=function(e){var t,n;return null!==(n=null===(t=e.articlesPage)||void 0===t?void 0:t.search)&&void 0!==n?n:""},x=function(e){var t,n;return null!==(n=null===(t=e.articlesPage)||void 0===t?void 0:t.type)&&void 0!==n?n:a.Iq.ALL},S=n(7168),j=n(7665),C=(0,S.hg)("articlesPage/fetchArticlesList",(function(e,t){return n=void 0,r=void 0,o=function(){var e,n,r,a,o,c,i,l,u,s,v;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(f){switch(f.label){case 0:e=t.extra,n=t.rejectWithValue,r=t.getState,a=function(e){var t;return(null===(t=e.articlesPage)||void 0===t?void 0:t.limit)||16}(r()),o=x(r()),c=m(r()),i=b(r()),l=w(r()),u=w(r()),f.label=1;case 1:return f.trys.push([1,3,,4]),d={sort:c,order:i,search:l,type:o},window.history.pushState(null,"",function(e){var t=new URLSearchParams(window.location.search);return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];void 0!==r&&t.set(n,r)})),"?".concat(t.toString())}(d)),[4,e.api.get("/articles",{params:{q:l,type_like:o,_sort:c,_order:i,_page:u,_limit:a,_expand:"user"}})];case 2:if(!(s=f.sent().data))throw new Error;return[2,s];case 3:return v=f.sent(),console.log(v),[2,n("error")];case 4:return[2]}var d}))},new((a=void 0)||(a=Promise))((function(e,t){function c(e){try{l(o.next(e))}catch(e){t(e)}}function i(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(c,i)}l((o=o.apply(n,r||[])).next())}));var n,r,a,o})),P=(0,S.HF)({selectId:function(e){return e.id}}),N=P.getSelectors((function(e){return e.articlesPage||P.getInitialState()})),k=(0,S.oM)({name:"articlesPage",initialState:P.getInitialState({isLoading:!1,error:void 0,ids:[],entities:{},page:1,hasMore:!0,_inited:!1,limit:16,sort:a.$B.CREATED,search:"",order:"ASC",type:a.Iq.ALL,view:a.GA.LIST}),reducers:{setView:function(e,t){e.view=t.payload,localStorage.setItem(j.fK,t.payload),e.limit=t.payload===a.GA.LIST?4:16},setPage:function(e,t){e.page=t.payload},setType:function(e,t){e.type=t.payload},setSearch:function(e,t){e.search=t.payload},setSort:function(e,t){e.sort=t.payload},setOrder:function(e,t){e.order=t.payload},initState:function(e){var t=localStorage.getItem(j.fK);e.view=t,e.limit=t===a.GA.LIST?4:16,e._inited=!0}},extraReducers:function(e){e.addCase(C.pending,(function(e,t){e.isLoading=!0,e.error=void 0,t.meta.arg.add||P.removeAll(e)})).addCase(C.fulfilled,(function(e,t){e.isLoading=!1,e.hasMore=t.payload.length>=e.limit,t.meta.arg.add?P.addMany(e,t.payload):P.setAll(e,t.payload)})).addCase(C.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),A=k.actions,I=k.reducer,O=(0,S.hg)("articlesPage/fetchNextArticlesPage",(function(e,t){return n=void 0,r=void 0,o=function(){var e,n,r,a,o;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(c){return e=t.getState,n=t.dispatch,r=function(e){var t;return null===(t=e.articlesPage)||void 0===t?void 0:t.hasMore}(e()),a=p(e()),o=function(e){var t;return(null===(t=e.articlesPage)||void 0===t?void 0:t.page)||1}(e()),r&&!a&&(n(A.setPage(o+1)),n(C({add:!0}))),[2]}))},new((a=void 0)||(a=Promise))((function(e,t){function c(e){try{l(o.next(e))}catch(e){t(e)}}function i(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(c,i)}l((o=o.apply(n,r||[])).next())}));var n,r,a,o})),E=(0,S.hg)("articlesPage/initArticlesPage",(function(e,t){return n=void 0,r=void 0,o=function(){var n,r,a,o,c,i;return function(e,t){var n,r,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=i(0),c.throw=i(1),c.return=i(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(l){return n=t.getState,r=t.dispatch,g(n())||(a=e.get("order"),o=e.get("sort"),c=e.get("type"),i=e.get("search"),a&&r(A.setOrder(a)),o&&r(A.setSort(o)),c&&r(A.setType(c)),i&&r(A.setSearch(i)),r(A.initState()),r(C({}))),[2]}))},new((a=void 0)||(a=Promise))((function(e,t){function c(e){try{l(o.next(e))}catch(e){t(e)}}function i(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(c,i)}l((o=o.apply(n,r||[])).next())}));var n,r,a,o})),T=n(6787),L=n(4456),M=n(6017),R=n(4743);var V=(0,o.memo)((function(e){var t=e.className,n=e.order,a=e.sort,i=e.onChangeOrder,u=e.onChangeSort,s=(0,c.$)().t,v=(0,o.useMemo)((function(){return[{value:M.$B.VIEWS,content:s("популярности")},{value:M.$B.CREATED,content:s("дате создания")},{value:M.$B.TITLE,content:s("названию")}]}),[s]),f=(0,o.useMemo)((function(){return[{value:"DESC",content:s("убыванию")},{value:"ASC",content:s("возрастанию")}]}),[s]);return(0,r.jsxs)("div",{className:(0,l.A)("oJ0TgXc0",{},[t]),children:[(0,r.jsx)(R.P,{label:s("Сортировать ПО"),options:v,onSelect:function(e){return u(e)},value:a}),(0,r.jsx)(R.P,{label:s("по"),options:f,onSelect:function(e){return i(e)},value:n})]})}));const G={Tabs:"bXYDRoXv",item:"YTdmRPCZ",clear:"kREYPwWz",selected:"ZhF6Sqyx",outline:"XK6pCBJ5"};var q;!function(e){e.CLEAR="clear",e.OUTLINE="outline"}(q||(q={}));var B,_=function(e){var t=e.className,n=e.tabs,a=e.value,c=e.onTabClick,i=e.theme,u=void 0===i?q.CLEAR:i,s=(0,o.useState)(n[0].value),v=s[0],f=s[1];(0,o.useEffect)((function(){a&&f(a)}),[a]);var d=(0,o.useCallback)((function(e){return function(){c(e.value),f(e.value)}}),[c]);return(0,r.jsx)("div",{className:(0,l.A)(G.Tabs,{},[t,G[u]]),children:n.map((function(e){var t;return(0,r.jsx)(T.Z,{onClick:d(e),className:(0,l.A)(G.item,(t={},t[G.selected]=v===e.value,t)),children:e.content})}))})},W=(0,o.memo)((function(e){var t=e.className,n=e.type,i=e.onChangeType,u=(0,c.$)().t,s=(0,o.useMemo)((function(){return[{value:a.Iq.ALL,content:u("Все статьи")},{value:a.Iq.IT,content:u("Айти")},{value:a.Iq.ECONOMICS,content:u("Экономика")},{value:a.Iq.SCIENCE,content:u("Наука")}]}),[u]);return(0,r.jsx)("div",{className:(0,l.A)("EAQmakr9",{},[t]),children:(0,r.jsx)(_,{tabs:s,value:n,onTabClick:i})})}));function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(null,arguments)}var D;function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}var K=n(219),U=n(4282);var F=[{view:a.GA.LIST,Icon:function(e){return o.createElement("svg",H({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 0 18 18"},e),D||(D=o.createElement("g",{fillRule:"evenodd"},o.createElement("rect",{width:18,height:4,rx:2}),o.createElement("rect",{width:18,height:4,y:7,rx:2}),o.createElement("rect",{width:18,height:4,y:14,rx:2}))))}},{view:a.GA.GRID,Icon:function(e){return o.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",width:800,height:800,viewBox:"0 -0.5 21 21"},e),B||(B=o.createElement("path",{fillRule:"evenodd",d:"M18.9 14h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2v-2c0-1.105-.94-2-2.1-2m-7.35 0h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2v-2c0-1.105-.94-2-2.1-2M4.2 14H2.1C.94 14 0 14.895 0 16v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2v-2c0-1.105-.94-2-2.1-2m14.7-7h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V9c0-1.105-.94-2-2.1-2m-7.35 0h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V9c0-1.105-.94-2-2.1-2M4.2 7H2.1C.94 7 0 7.895 0 9v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V9c0-1.105-.94-2-2.1-2m14.7-7h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V2c0-1.105-.94-2-2.1-2m-7.35 0h-2.1c-1.16 0-2.1.895-2.1 2v2c0 1.105.94 2 2.1 2h2.1c1.16 0 2.1-.895 2.1-2V2c0-1.105-.94-2-2.1-2M6.3 2v2c0 1.105-.94 2-2.1 2H2.1C.94 6 0 5.105 0 4V2C0 .895.94 0 2.1 0h2.1c1.16 0 2.1.895 2.1 2"})))}}],z=(0,o.memo)((function(e){var t=e.className,n=e.view,a=e.onViewClick;return(0,r.jsx)("div",{className:(0,l.A)("",{},[t]),children:F.map((function(e,t){var o;return(0,r.jsx)(K.zx,{className:"TqSia0NM",onClick:function(){return a(e.view)},children:(0,r.jsx)(U.J,{Svg:e.Icon,className:(0,l.A)("KMenmA4M",(o={},o.fUzaEPSU=n===e.view,o))})},t)}))})}));var J=(0,o.memo)((function(e){var t,n,a=e.className,u=(0,c.$)().t,v=(0,s.T)(),f=(0,i.v9)(y),d=(0,i.v9)(x),h=(0,i.v9)(m),p=(0,i.v9)(b),g=(0,i.v9)(w),S=function(){return v(C({}))},j=(t=function(){S()},n=(0,o.useRef)(),(0,o.useCallback)((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.current&&clearTimeout(n.current),n.current=setTimeout((function(){t()}),500)}),[t,500])),P=(0,o.useCallback)((function(e){v(A.setView(e)),v(A.setPage(1)),S()}),[v,j]),N=(0,o.useCallback)((function(e){v(A.setType(e)),v(A.setPage(1)),S()}),[v,j]),k=(0,o.useCallback)((function(e){v(A.setSort(e)),v(A.setPage(1)),S()}),[v,j]),I=(0,o.useCallback)((function(e){v(A.setOrder(e)),v(A.setPage(1)),S()}),[v,j]),O=(0,o.useCallback)((function(e){v(A.setSearch(e)),v(A.setPage(1)),j()}),[v,j]);return(0,r.jsxs)("div",{className:(0,l.A)("VrNxiv8J",{},[a]),children:[(0,r.jsxs)("div",{className:"pyOjonnp",children:[(0,r.jsx)(V,{order:p,sort:h,onChangeOrder:I,onChangeSort:k}),(0,r.jsx)(z,{onViewClick:P,view:f})]}),(0,r.jsx)(T.Z,{className:"QkNSez8q",children:(0,r.jsx)(L.I,{value:g,onChange:O,placeholder:u("Поиск")})}),(0,r.jsx)(W,{type:d,onChangeType:N})]})}));const Q="i0h17Gqm",X="jllO1R77";var Z=n(9711),Y={articlesPage:I},ee=function(e){var t=e.className,n=(0,c.$)().t,m=(0,s.T)(),b=(0,i.v9)(N.selectAll),w=(0,i.v9)(p),x=(0,i.v9)(h),S=(0,i.v9)(y),j=(0,i.v9)(g),C=(0,Z.lr)()[0];(0,v.Q)((function(){return!j&&m(E(C))}));var P=(0,o.useCallback)((function(){m(O())}),[m]);return x?(0,r.jsx)(d.T3,{className:(0,l.A)(Q,{},[t]),children:(0,r.jsx)(f.xv,{title:x,className:X})}):(0,r.jsx)(u.W,{removeAfterRemount:!1,reducers:Y,children:(0,r.jsxs)(d.T3,{onScrollEnd:P,className:(0,l.A)(Q,{},[t]),children:[(0,r.jsx)(J,{}),(0,r.jsx)(f.xv,{title:n("Блог"),className:X}),(0,r.jsx)(a.wD,{className:"UsH35LqR",isLoading:w,view:S,articles:b})]})})};const te=(0,o.memo)(ee)},4456:(e,t,n)=>{n.d(t,{I:()=>i});var r=n(5893),a=n(7294),o=n(4611);var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)},i=(0,a.memo)((function(e){var t,n=e.className,i=e.value,l=void 0===i?"":i,u=e.onChange,s=e.placeholder,v=e.type,f=void 0===v?"text":v,d=e.autofocus,h=e.readonly,p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","value","onChange","placeholder","type","autofocus","readonly"]),g=(0,a.useRef)(),y=(0,a.useState)(!1),m=y[0],b=y[1],w=(0,a.useState)(null==l?void 0:l.length),x=w[0],S=w[1],j=m&&!h;return(0,a.useEffect)((function(){d&&(b(!0),g.current.focus())}),[]),(0,r.jsxs)("div",{className:(0,o.A)("LuFDUWoP",(t={},t.fTN1PnWu=h,t),[n]),children:[s&&(0,r.jsx)("div",{className:"emAQQ85i",children:"".concat(s,"> ")}),(0,r.jsxs)("div",{className:"y1GiFC_L",children:[(0,r.jsx)("input",c({ref:g,type:f,value:l,onChange:function(e){null==u||u(e.target.value),S(e.target.value.length)},className:"LVdIPwcx",onFocus:function(){b(!0)},onBlur:function(){b(!1)},onSelect:function(e){var t;S((null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.selectionStart)||0)},readOnly:h},p)),j&&(0,r.jsx)("span",{className:"lqMFGBuL",style:{left:"".concat(8.8*x,"px")}})]})]})}))},4743:(e,t,n)=>{n.d(t,{P:()=>c});var r=n(5893),a=n(7294),o=n(4611);var c=function(e){var t,n=e.className,c=e.options,i=e.onSelect,l=e.label,u=e.value,s=e.readonly,v=(0,a.useState)(!1),f=v[0],d=v[1],h=(0,a.useState)(c[0]),p=h[0],g=h[1];(0,a.useEffect)((function(){u&&g(c.find((function(e){return e.value===u})))}),[u]);var y=(0,a.useCallback)((function(e,t){e.stopPropagation(),i(t.value),g(t),m()}),[]),m=function(){s||d((function(e){return!e}))};(0,a.useEffect)((function(){s&&d(!1)}),[s]);var b=(0,a.useMemo)((function(){return null==c?void 0:c.map((function(e){var t;return(0,r.jsx)("li",{className:(0,o.A)("zZgj2JgW",(t={},t.rKHhU8sR=p.value===e.value,t)),onClick:function(t){return y(t,e)},children:e.content},e.value)}))}),[c,p]);return(0,r.jsxs)("div",{className:(0,o.A)("eXu4wq7K",(t={},t.HaBgyfSK=s,t),[n]),children:[l&&(0,r.jsx)("span",{className:"G1uuf7Bp",children:"".concat(l,">")}),(0,r.jsx)("div",{className:"t4ay1peO",onClick:m,children:p.content}),f&&(0,r.jsx)("ul",{className:"xWiG1Vj4",onClick:m,children:b})]})}}}]);