"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[322],{5322:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var o=n(5893),a=n(7294),r=n(2327),l=n(9704),c=n(4611),u=n(9585),s=n(5461),i=n(219),d=n(4456),v=n(9312),m=function(e){var t;return null===(t=null==e?void 0:e.addCommentForm)||void 0===t?void 0:t.error},f=function(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.addCommentForm)||void 0===t?void 0:t.text)&&void 0!==n?n:""},p=(0,n(7168).oM)({name:"addCommentForm",initialState:{text:"",error:void 0},reducers:{setText:function(e,t){e.text=t.payload}}}),h=p.actions,x=p.reducer;var y={addCommentForm:x};const j=(0,a.memo)((function(e){var t=e.className,n=e.onSendComment,p=(0,r.$)().t,x=(0,s.T)(),j=(0,a.useState)(!0),g=j[0],b=j[1],C=(0,l.v9)(m),O=(0,l.v9)(f),N=(0,a.useCallback)((function(e){e.length&&g?b(!1):e.length||g||b(!0),x(h.setText(e))}),[x,g]),F=(0,a.useCallback)((function(){n(O||""),N("")}),[N,n,O]);return(0,o.jsx)(u.W,{reducers:y,children:(0,o.jsx)("div",{className:(0,c.A)("MGeHamRn",{},[t]),children:C?(0,o.jsx)(v.xv,{theme:v.lg.ERROR,text:p("Произошла непредвиденная ошибка")}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.I,{className:"KxmbMJIH",onChange:N,value:O,placeholder:p("Введите комментарий")}),(0,o.jsx)(i.zx,{disabled:g,onClick:F,theme:i.bn.OUTLINE,children:p("Отправить")})]})})})}))},4456:(e,t,n)=>{n.d(t,{I:()=>c});var o=n(5893),a=n(7294),r=n(4611);var l=function(){return l=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=(0,a.memo)((function(e){var t,n=e.className,c=e.value,u=void 0===c?"":c,s=e.onChange,i=e.placeholder,d=e.type,v=void 0===d?"text":d,m=e.autofocus,f=e.readonly,p=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["className","value","onChange","placeholder","type","autofocus","readonly"]),h=(0,a.useRef)(),x=(0,a.useState)(!1),y=x[0],j=x[1],g=(0,a.useState)(null==u?void 0:u.length),b=g[0],C=g[1],O=y&&!f;return(0,a.useEffect)((function(){m&&(j(!0),h.current.focus())}),[]),(0,o.jsxs)("div",{className:(0,r.A)("LuFDUWoP",(t={},t.fTN1PnWu=f,t),[n]),children:[i&&(0,o.jsx)("div",{className:"emAQQ85i",children:"".concat(i,"> ")}),(0,o.jsxs)("div",{className:"y1GiFC_L",children:[(0,o.jsx)("input",l({ref:h,type:v,value:u,onChange:function(e){null==s||s(e.target.value),C(e.target.value.length)},className:"LVdIPwcx",onFocus:function(){j(!0)},onBlur:function(){j(!1)},onSelect:function(e){var t;C((null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.selectionStart)||0)},readOnly:f},p)),O&&(0,o.jsx)("span",{className:"lqMFGBuL",style:{left:"".concat(8.8*b,"px")}})]})]})}))}}]);